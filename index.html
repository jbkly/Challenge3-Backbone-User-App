<!DOCTYPE html>
<html>
  <head>
	 <meta charset="utf-8">
	 <meta http-equiv="X-UA-Compatible" content="IE=edge">
	 <meta name="viewport" content="width=device-width, initial-scale=1">
	 <title>Micromanager</title>
	 <link href="css/styles.css" rel="stylesheet">
  </head>
  <body>

  <div class="wrapper">    
	 <header>
		  <h1><a href="#usersList" class="maintitle">Micromanager</a></h1>
		  <p>A barebones Backbone.js app</p>
	 </header>

	 <div class="main-container">
	 </div>
  </div>

	 <script type="text/template" id="template-usersList">
		<h2>
		  <a href="#usersList/new" class="bigbutton">Add User</a>
		</h2>
		<ul class="usersList-container"></ul>
	 </script>

	 <script type="text/template" id="template-user">
		<div class="user-entry">
		  <p>
			 <span class="user-name"><%- firstname %> <%- lastname %></span>

				<a href="#usersList/edit/<%- id %>">edit</a>
				<a href="#usersList/delete/<%- id %>" class="delete-user">delete</a>
			 </p>
		  </p>
		  <p><%- email %></p>
		</div>
	 </script>

	 <!-- HTML form validation apparently works in all browsers except Safari -->
	 <script type="text/template" id="template-new-user">
		<h2 class="heading"><%= isNew ? 'New' : 'Edit' %> User</h2>
		<form role="form" class="user-form">
		  <div class="form-group">
			 <div>
				<label>First Name:</label>
				<input type="text" class="user-firstname-input" value="<%- firstname %>" required><span>* required</span>
			 </div>
			 <div>
				<label>Last Name:</label>
				<input type="text" class="user-lastname-input" value="<%- lastname %>">
			 </div>
		  </div>
		  <div class="form-group">
			 <label>Email:</label>
			 <input type="email" class="user-email-input" value="<%- email %>">
		  </div>
		  <div class="form-group">
			 <button type="submit">submit</button>
			 <a href="#usersList" class="cancelbtn">cancel</a>
		  </div>
		</form>
	 </script>

	 <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	 <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
	 <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>

	 <script src="js/app.js"></script>
	 <script src="js/models/user.js"></script>
	 <script src="js/collections/usersList.js"></script>
	 <script src="js/views/user.js"></script>
	 <script src="js/views/usersList.js"></script>
	 <script src="js/views/userForm.js"></script>
	 <script src="js/router.js"></script>

	 <script>
		$(function() {
		  UserManager.start({
			 usersList: [
				{
				  id: 1,
				  firstname : 'J.R.R.',
				  lastname: 'Tolkien',
				  email: 'tollers@birdnbaby.co.uk'
				},
				{
				  id: 2,
				  firstname : 'Harry',
				  lastname: 'Potter',
				  email: 'expectopatronum@hogwarts.ed.ac.uk'
				},
				{
				  id: 3,
				  firstname : 'Michael',
				  lastname: 'Jordan',
				  email: 'spaceJammies@msn.com'
				},
				{
				  id: 4,
				  firstname : 'Bruce',
				  lastname: 'Wayne',
				  email: 'bw@wayneenterprises.com'
				}
			 ]
		  });
		});
	 </script>
  </body>
</html>
